<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Bananpandekager – sund snack på 10 minutter (uden mel)</title>
  <meta name="description" content="Bananpandekager med æg og havre. Nem, hurtig og mættende sund snack. Inkl. næringsindhold (kcal, protein, kulhydrat, fedt) og tips til varianter." />
  <link rel="canonical" href="https://www.sund-snack.dk/opskrifter/bananpandekager.html" />

  <meta property="og:title" content="Bananpandekager – sund snack på 10 minutter (uden mel)" />
  <meta property="og:description" content="Nem bananpandekage-opskrift med få ingredienser. Perfekt til morgenmad, madpakke eller som snack efter træning." />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://www.sund-snack.dk/opskrifter/bananpandekager.html" />
  <!-- og:image bliver sat dynamisk til opskriftens billede via JS (fallback til hero) -->
  <meta property="og:image" content="https://www.sund-snack.dk/assets/images/hero.jpg" />

  <meta name="theme-color" content="#16a34a" />
  <link rel="stylesheet" href="/assets/styles.css" />
  <script src="/assets/site.js" defer></script>

  <!-- Recipe schema bliver injiceret korrekt med rigtigt billede + nutrition fra opskrifter.json -->
  <script id="recipeSchema" type="application/ld+json">{}</script>

  <style>
    .container{width:min(1100px, calc(100% - 2rem));margin:0 auto}

    .recipe{padding:22px 0 56px}

    .recipe-head{display:flex;flex-direction:column;gap:10px;margin-bottom:16px}
    .recipe-title{margin:0;font-size:clamp(1.9rem,3.2vw,2.6rem);font-weight:900;letter-spacing:-.02em}
    .recipe-sub{margin:0;color:rgba(11,18,32,.72);font-weight:600;max-width:78ch}

    /* NEW: top layout with image left */
    .recipe-top{
      display:grid;
      grid-template-columns: 1fr 1.05fr;
      gap:18px;
      align-items:start;
      margin-top:14px;
    }
    @media (max-width:980px){.recipe-top{grid-template-columns:1fr}}

    .recipe-photo{
      border-radius:22px;
      overflow:hidden;
      border:1px solid rgba(11,18,32,.10);
      box-shadow:0 18px 60px rgba(11,18,32,.10);
      background:#fff;
    }
    .recipe-photo img{width:100%;height:420px;object-fit:cover;display:block}
    @media (max-width:980px){.recipe-photo img{height:300px}}

    .cardx{
      background:#fff;
      border:1px solid rgba(11,18,32,.10);
      border-radius:18px;
      box-shadow:0 8px 22px rgba(11,18,32,.08);
      padding:16px;
    }
    .cardx h2,.cardx h3{margin:0 0 10px;font-size:1.1rem;font-weight:950;letter-spacing:-.01em}
    .cardx p{margin:0 0 10px;color:rgba(11,18,32,.75);font-weight:600}
    .list{margin:0;padding-left:18px;color:rgba(11,18,32,.78);font-weight:650}
    .list li{margin:8px 0}

    .meta-pills{display:flex;flex-wrap:wrap;gap:10px;margin:0 0 10px}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:.48rem .75rem;border-radius:999px;border:1px solid rgba(11,18,32,.12);background:rgba(11,18,32,.03);font-weight:900}

    /* Save button with RED filled heart */
    .save-btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:.68rem .95rem;
      border-radius:999px;
      border:1px solid rgba(11,18,32,.12);
      background:#fff;
      font-weight:900;
      cursor:pointer;
      user-select:none;
      transition:transform .08s ease, background .15s ease, border-color .15s ease;
    }
    .save-btn:active{transform:scale(.98)}
    .save-btn .heart{
      width:18px;height:18px;display:inline-block;
    }
    .save-btn .heart path{
      fill:transparent;
      stroke:currentColor;
      stroke-width:2;
      transition:fill .15s ease, stroke .15s ease;
    }
    .save-btn.is-saved{
      border-color:rgba(220,38,38,.30);
      background:rgba(220,38,38,.07);
      color:#b91c1c;
    }
    .save-btn.is-saved .heart path{
      fill:#ef4444;
      stroke:#ef4444;
    }

    .nutri{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px}
    .nutri .pill{justify-content:space-between;width:100%}

    .related-wrap{margin-top:22px}
    .related-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:12px}
    @media (max-width:980px){.related-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:640px){.related-grid{grid-template-columns:1fr}}
    .mini-card{background:#fff;border:1px solid rgba(11,18,32,.10);border-radius:18px;overflow:hidden;box-shadow:0 6px 18px rgba(11,18,32,.08);transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease}
    .mini-card:hover{transform:translateY(-2px);border-color:rgba(22,163,74,.25);box-shadow:0 14px 34px rgba(11,18,32,.10)}
    .mini-thumb{height:140px;background-size:cover;background-position:center;background-color:rgba(11,18,32,.05)}
    .mini-body{padding:12px}
    .mini-title{margin:0 0 6px;font-weight:950;letter-spacing:-.01em}
    .mini-desc{margin:0;color:rgba(11,18,32,.72);font-weight:650}

    .empty{padding:22px;border:1px dashed rgba(11,18,32,.18);border-radius:18px;background:rgba(11,18,32,.02)}
    .empty h3{margin:0 0 6px}
  </style>
</head>

<body>
  <div id="siteHeader"></div>

  <main class="recipe">
    <div class="container">
      <header class="recipe-head">
        <h1 class="recipe-title">Bananpandekager</h1>
        <p class="recipe-sub">
          Bananpandekager er den klassiske “jeg skal lige have noget sundt og lækkert NU”-snack: få ingredienser, hurtig at røre sammen,
          og perfekt når du vil have noget sødt uden at det føles som dessert. De er oplagte til morgenmad, madpakken eller efter træning –
          og du kan nemt skrue op for protein med skyr på toppen.
        </p>
      </header>

      <section class="recipe-top">
        <!-- LEFT: Recipe image (from JSON) -->
        <figure class="recipe-photo">
          <img id="recipeImage" src="/assets/images/hero.jpg" alt="Bananpandekager – sund snack" loading="eager" />
        </figure>

        <!-- RIGHT: Meta + Save + Nutrition -->
        <aside class="cardx">
          <div class="meta-pills" aria-label="Hurtigt overblik">
            <span class="pill">Tid: <strong id="metaMinutes">10 min</strong></span>
            <span class="pill">Portioner: <strong>8 små</strong></span>
            <span class="pill">Niveau: <strong id="metaLevel">Nem</strong></span>
            <span class="pill">Protein: <strong>Mellem</strong></span>
          </div>

          <button
            class="save-btn"
            type="button"
            data-save-recipe
            data-title="Bananpandekager"
            data-url="/opskrifter/bananpandekager.html"
            data-image="/assets/images/hero.jpg"
            aria-pressed="false">
            <svg class="heart" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 21s-7-4.35-9.33-8.03C.5 9.5 2.28 5.5 6.5 5.5c2.03 0 3.57 1.1 4.5 2.2 0.93-1.1 2.47-2.2 4.5-2.2 4.22 0 6 4 3.83 7.47C19 16.65 12 21 12 21z"></path>
            </svg>
            <span id="saveLabel">Gem opskrift</span>
          </button>

          <h2 style="margin-top:16px;">Næringsindhold</h2>
          <p>Beregnet pr. <strong>2 små pandekager</strong>. Tal er vejledende og afhænger af mærker.</p>

          <div class="nutri" id="nutriGrid">
            <span class="pill">Kcal <strong>–</strong></span>
            <span class="pill">Protein <strong>–</strong></span>
            <span class="pill">Kulhydrat <strong>–</strong></span>
            <span class="pill">Fedt <strong>–</strong></span>
          </div>
        </aside>
      </section>

      <section class="recipe-grid" style="display:grid;grid-template-columns:1.1fr .9fr;gap:18px;margin-top:18px">
        <article class="cardx">
          <h2>Ingredienser</h2>
          <ul class="list">
            <li>2 modne bananer</li>
            <li>2 æg</li>
            <li>60 g havregryn (eller havremel)</li>
            <li>1 tsk bagepulver</li>
            <li>1 tsk kanel (valgfrit)</li>
            <li>1 knsp salt</li>
            <li>1 tsk vanilje (valgfrit)</li>
            <li>Smør eller neutral olie til stegning</li>
          </ul>

          <h2 style="margin-top:16px;">Sådan gør du</h2>
          <ol class="list">
            <li>Mos bananerne helt glatte i en skål (jo mere modne, jo sødere pandekager).</li>
            <li>Pisk æggene i, så du får en ensartet masse.</li>
            <li>Rør havregryn, bagepulver, salt og evt. kanel/vanilje i. Lad dejen stå 2 minutter, så havren suger væske.</li>
            <li>Varm en pande ved middel varme og smelt lidt smør/olie.</li>
            <li>Steg små pandekager (ca. 1–2 spsk dej pr. stk.) 2–3 minutter pr. side, til de er gyldne og faste.</li>
          </ol>
        </article>

        <aside class="cardx">
          <h2>Tips og varianter</h2>
          <ul class="list">
            <li><strong>Mere protein:</strong> Server med 2–3 spsk skyr, eller rør 1 spsk proteinpulver i dejen (justér med 1–2 spsk mælk).</li>
            <li><strong>Choko:</strong> Tilsæt 1 spsk kakao eller lidt mørk chokolade (70%) i små stykker.</li>
            <li><strong>Bær:</strong> Vend blåbær i dejen lige inden stegning.</li>
            <li><strong>Uden havre:</strong> Brug 2 spsk chiafrø og lad dejen stå 8–10 min (bliver mere “våd”, men fungerer).</li>
            <li><strong>Til madpakken:</strong> Steg dem lidt mere tørre og afkøl helt, før du pakker dem.</li>
          </ul>

          <h2 style="margin-top:16px;">Opbevaring</h2>
          <p>Opbevar i køleskab i 2–3 dage. Varm dem kort på pande eller i mikroovn. De kan også fryses (adskil med bagepapir) i op til 2 måneder.</p>
        </aside>
      </section>

      <section class="cardx" style="margin-top:18px;">
        <h2>Konklusion</h2>
        <p>
          Bananpandekager er en af de bedste “hurtige sunde snacks”, fordi du kan lave dem på få minutter med ting, de fleste allerede har i køkkenet.
          De er søde, mættende og super nemme at variere – og med skyr og bær på toppen føles de som en snack, der faktisk holder.
        </p>
      </section>

      <section class="related-wrap">
        <h2 style="margin:0;font-size:1.2rem;font-weight:950;letter-spacing:-.01em;">Relaterede opskrifter</h2>
        <p class="muted" style="margin:6px 0 0;color:rgba(11,18,32,.68);font-weight:650;">
          Vi finder automatisk opskrifter med samme kategorier eller tags.
        </p>
        <div id="relatedGrid" class="related-grid"></div>
      </section>
    </div>
  </main>

  <div id="siteFooter"></div>

  <script>
    // Partials
    async function loadPartial(mountId, url) {
      const el = document.getElementById(mountId);
      if (!el) return;
      try {
        const res = await fetch(url, { cache: "no-store" });
        el.innerHTML = await res.text();
      } catch {}
    }
    loadPartial("siteHeader", "/partials/header.html");
    loadPartial("siteFooter", "/partials/footer.html");

    // Load recipe from opskrifter.json to set correct image + nutrition + schema + related
    (async () => {
      const SLUG = "bananpandekager";
      let recipe = null;

      try {
        const res = await fetch("/assets/opskrifter.json", { cache: "no-store" });
        const data = await res.json();
        const list = Array.isArray(data) ? data : (data.recipes || []);
        recipe = (list || []).find(x => x && x.id === SLUG) || null;

        // If URL is used instead of id as fallback
        if (!recipe) {
          recipe = (list || []).find(x => x && x.url && x.url.includes("bananpandekager")) || null;
        }

        // Apply image
        const img = document.getElementById("recipeImage");
        const ogImg = document.querySelector('meta[property="og:image"]');
        if (img) {
          const src = recipe && recipe.image ? recipe.image : "/assets/images/hero.jpg";
          img.src = src;
          img.alt = (recipe && recipe.title ? recipe.title : "Bananpandekager") + " – sund snack";
        }
        if (ogImg && recipe && recipe.image) {
          ogImg.setAttribute("content", "https://www.sund-snack.dk" + recipe.image);
        }

        // Update save button data-image (so saved drawer shows correct thumbnail)
        const saveBtn = document.querySelector("[data-save-recipe]");
        if (saveBtn && recipe && recipe.image) {
          saveBtn.setAttribute("data-image", recipe.image);
        }

        // Meta minutes/level
        const mm = document.getElementById("metaMinutes");
        const ml = document.getElementById("metaLevel");
        if (mm && recipe && recipe.minutes) mm.textContent = recipe.minutes + " min";
        if (ml && recipe && recipe.level) ml.textContent = recipe.level;

        // Nutrition UI
        const nutriGrid = document.getElementById("nutriGrid");
        const n = recipe && recipe.nutrition ? recipe.nutrition : null;
        if (nutriGrid && n) {
          nutriGrid.innerHTML = `
            <span class="pill">Kcal <strong>${n.calories ?? "–"}</strong></span>
            <span class="pill">Protein <strong>${n.protein ?? "–"} g</strong></span>
            <span class="pill">Kulhydrat <strong>${n.carbohydrates ?? "–"} g</strong></span>
            <span class="pill">Fedt <strong>${n.fat ?? "–"} g</strong></span>
          `;
        }

        // Inject Recipe schema (uses correct image + nutrition)
        const schemaEl = document.getElementById("recipeSchema");
        const imgAbs = (recipe && recipe.image) ? ("https://www.sund-snack.dk" + recipe.image) : "https://www.sund-snack.dk/assets/images/hero.jpg";

        const schema = {
          "@context":"https://schema.org",
          "@type":"Recipe",
          "@id":"https://www.sund-snack.dk/opskrifter/bananpandekager.html#recipe",
          "name":"Bananpandekager",
          "description":"Bananpandekager med æg og havre. Nem, hurtig og mættende sund snack. Inkl. næringsindhold og tips til varianter.",
          "image":[imgAbs],
          "author":{"@type":"Organization","name":"Sund Snack"},
          "datePublished":"2026-02-05",
          "dateModified":"2026-02-05",
          "inLanguage":"da-DK",
          "prepTime":"PT5M",
          "cookTime":"PT5M",
          "totalTime":"PT10M",
          "recipeYield":"8 små pandekager",
          "recipeCategory": (recipe && recipe.categories) ? recipe.categories : ["snacks"],
          "keywords": (recipe && recipe.tags) ? recipe.tags.join(", ") : "bananpandekager, sund snack, pandekager, banan, havre",
          "recipeIngredient":[
            "2 modne bananer",
            "2 æg",
            "60 g havregryn (eller havremel)",
            "1 tsk bagepulver",
            "1 tsk kanel (valgfrit)",
            "1 knsp salt",
            "1 tsk vanilje (valgfrit)",
            "Smør eller neutral olie til stegning"
          ],
          "recipeInstructions":[
            {"@type":"HowToStep","text":"Mos bananerne helt glatte i en skål."},
            {"@type":"HowToStep","text":"Pisk æggene i, så du får en ensartet masse."},
            {"@type":"HowToStep","text":"Rør havregryn, bagepulver, salt og evt. kanel/vanilje i. Lad dejen stå 2 minutter."},
            {"@type":"HowToStep","text":"Steg små pandekager ved middel varme 2–3 minutter pr. side."}
          ]
        };

        if (n) {
          schema.nutrition = {
            "@type":"NutritionInformation",
            "calories": String(n.calories ?? "") + " kcal",
            "proteinContent": String(n.protein ?? "") + " g",
            "carbohydrateContent": String(n.carbohydrates ?? "") + " g",
            "fatContent": String(n.fat ?? "") + " g"
          };
        }

        if (schemaEl) schemaEl.textContent = JSON.stringify(schema);

        // Related recipes
        const relatedGrid = document.getElementById("relatedGrid");
        if (relatedGrid) {
          const currentCats = new Set(((recipe && recipe.categories) || []).map(x => String(x).toLowerCase()));
          const currentTags = new Set(((recipe && recipe.tags) || []).map(x => String(x).toLowerCase()));

          function score(item){
            const cats = new Set((item.categories || []).map(x => String(x).toLowerCase()));
            const tags = new Set((item.tags || []).map(x => String(x).toLowerCase()));
            let s = 0;
            currentCats.forEach(c => { if (cats.has(c)) s += 3; });
            currentTags.forEach(t => { if (tags.has(t)) s += 2; });
            return s;
          }

          const related = (list || [])
            .filter(x => x && x.url && (!recipe || x.id !== recipe.id))
            .map(x => ({...x, _score: score(x)}))
            .filter(x => x._score > 0)
            .sort((a,b) => b._score - a._score)
            .slice(0, 3);

          if (!related.length) {
            relatedGrid.innerHTML = `
              <div class="empty" style="grid-column:1/-1">
                <h3>Ingen relaterede opskrifter endnu</h3>
                <p class="muted">Tilføj 2–3 opskrifter mere i opskrifter.json, så viser vi dem automatisk her.</p>
              </div>
            `;
          } else {
            relatedGrid.innerHTML = related.map(r => `
              <article class="mini-card">
                <a class="card-link" href="${r.url}">
                  <div class="mini-thumb" style="background-image:url('${r.image || ""}')"></div>
                  <div class="mini-body">
                    <h3 class="mini-title">${r.title || "Opskrift"}</h3>
                    <p class="mini-desc">${r.description || ""}</p>
                  </div>
                </a>
              </article>
            `).join("");
          }
        }

      } catch (e) {
        // fail silently
      }

      // Save button UI feedback – listens to your existing site.js storage
      const saveBtn = document.querySelector("[data-save-recipe]");
      const saveLabel = document.getElementById("saveLabel");

      function syncSavedUI(){
        if (!saveBtn) return;
        const pressed = saveBtn.getAttribute("aria-pressed") === "true";
        saveBtn.classList.toggle("is-saved", pressed);
        if (saveLabel) saveLabel.textContent = pressed ? "Gemt" : "Gem opskrift";
      }

      // initial sync (site.js will set aria-pressed on load; we mirror style)
      setTimeout(syncSavedUI, 60);
      document.addEventListener("ss:saved-updated", () => setTimeout(syncSavedUI, 0));

      // also sync right after clicking button
      document.addEventListener("click", (e) => {
        if (!e.target.closest("[data-save-recipe]")) return;
        setTimeout(syncSavedUI, 0);
      });
    })();
  </script>
</body>
</html>
